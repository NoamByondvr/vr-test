language: objective-c
osx_image: xcode8.2
cache:
    bundler: true
    directories:
        - $HOME/.cache
        - $HOME/Applications
before_install:
    - chmod +x ./Scripts/init.sh
    - chmod +x ./Scripts/install_android_sdk.sh
    - chmod +x ./Scripts/install_unity.sh
    - chmod +x ./Scripts/install_unity_android.sh
install:
    - "./Scripts/init.sh"
    - "./Scripts/install_android_sdk.sh"
    - "./Scripts/install_unity.sh"
script:
    - "./Scripts/build.sh"
deploy:
    provider: s3
    access_key_id: $AWS_ACCESS_KEY_ID
    secret_access_key: $AWS_SECRET_ACCESS_KEY
    bucket: travis-build-test
    skip_cleanup: true
    acl: public_read
    local_dir: Build
