language: objective-c
cache: bundler
osx_image: xcode8.2
rvm: 2.1.2
before_install:
    - wget http://dl.google.com/android/repository/tools_r25.2.3-macosx.zip
    - unzip tools_r25.2.3-macosx.zip
    - export ANDROID_HOME=$PWD/android-sdk-macosx
    - export PATH=${PATH}:${ANDROID_HOME}/tools:${ANDROID_HOME}/platform-tools
    - echo yes | android update sdk --filter platform-tools --no-ui --force > /dev/null
    - echo yes | android update sdk --filter android-23 --no-ui --force > /dev/null
    - echo yes | android update sdk --filter android-24 --no-ui --force > /dev/null
    - echo yes | android update sdk --filter android-25 --no-ui --force > /dev/null
    - echo yes | android update sdk --filter build-tools-25 --all --no-ui --force > /dev/null
    - echo yes | android update sdk --filter build-tools-25.0.1 --all --no-ui --force > /dev/null
    - echo yes | android update sdk --filter build-tools-25.0.2 --all --no-ui --force > /dev/null
install:
        - "./Scripts/install.sh"
script:
        - "./Scripts/build.sh"
deploy:
        provider: s3
        access_key_id: $AWS_ACCESS_KEY_ID
        secret_access_key: $AWS_SECRET_ACCESS_KEY
        bucket: travis-build-test
        skip_cleanup: true
        acl: public_read
